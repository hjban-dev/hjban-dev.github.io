---
layout: post
title: 함수 방식으로 클래스 만들기
category: Javascript
tags: [Javascript]
comments: true
---

# 함수 방식으로 클래스 만들기

## 사용법

리터럴 방식과 동일하게 `클래스 설계 단계`와 설계한 클래스를 사용하는 단계인 `객체 사용 단계`로 나눠집니다.

| 구분 | 진행 순서 |
| --- | --- |
클래스 설계 단계 | 1. 문법 <br> 2. 생성자 정의 방법 <br> 3. 프로퍼티 정의 방법 <br> 4. 메서드 정의 방법
객체 사용 단계 | 5. 인스턴스 생성 방법 <br> 6. 객체 외부에서 프로퍼티와 메서드 접근 방법 <br> 7. 객체 내부에서 프로퍼티와 메서드 접근 방법

### 1. 문법

```javascript
function 클래스이름(){
  this.프로퍼티1 = 초깃값;
  this.프로퍼티2 = 초깃값;
  ...
  this.메서드 : function(){

  }
  ...
}

var 인스턴스 = new 클래스이름();
```
함수 방식 클래스의 경우는 **하나의 함수 내부에 프로퍼티와 메서드를 정의**하는 구조입니다. 프로퍼티와 메서드는 반드시 자기 자신을 나타내는 `this`에 정의해야 합니다.

```javascript
// 클래스 정의
function User(){
  this.name = "김초코";
  this.id = "choco_kim";
  this.age = 25;
  this.showInfo = function(){
    document.write("name = "+this.userName, ", id = "+this.id);
  }
}

// 인스턴스 생성
var user = new User();
// 메서드 호출
user.showInfo();
```
자바나 C#과 같은 객체지향 프로그래밍 언어의 경우 다음과 같이 클래스 정의 전용 키워드를 이용해 클래스를 정의합니다..

```java
class 클래스이름 {
  // 포장할 프로퍼티와 메서드
}
```
하지만 자바스크립트에서는 클래스를 만들기 위한 키워드가 따로 존재하지 않습니다. 클래스를 만드는 방법은 함수 만드는 방법과 동일합니다. 둘 다 function이라는 키워드를 사용하기 때문에 내부 구문을 확인하지 않고서는 일반 함수인지 클래스인지 구분할 방법은 없습니다. 유일한 방법은 일반적으로 함수이름은 소문자로 시작하며 클래스는 대문자로 시작합니다. 물론 클래스 이름을 소문자로 해도 되지만 오래전부터 내려오는 일반적인 규칙이기 떄문에 특별한 경우를 제외하고는 대문자로 작성해야 합니다.

함수 이름은 소문자로 만들고 클래스 이름은 대문자로 만듭니다.

### 2. 생성자 정의 방법

생성잔는 인스턴스가 만들어지면서 자동으로 호출되는 함수를 말합니다. 생성자에는 주로 프로퍼티를 초기화하는 구문을 작성합니다.

- JAVA, C# 과 같은 객체지향 프로그래밍에서는 생성자 이외에도 파괴자라는 개념을 제공합니다. 파괴자는 클래스 인스턴스가 파괴될 때 자동으로 호출되는 함수를 말하며 주로 사용하고 있던 데이터를 삭제하는 용도로 사용됩니다. 자바스크립트에서는 제공하지 않습니다.

함수 방식에서는 생성자는 클래스이름 자체가 생성자이며 인스턴스가 생성될 때 자동 호출됩니다.

```javascript
function 클래스이름(){
  this.프로퍼티 = 초깃값;
  this.메서드 = function(){}
}

var 인스턴스 = new 클래스이름();
```

### 3. 프로퍼티 정의 방법

함수 방식에서 프로퍼티는 this에 만들어 줍니다.

```javascript
function 클래스이름(){
  this.프로퍼티1 = 초깃값;
  this.프로퍼티2 = 초깃값;
}
```

### 4. 메서드 정의 방법

프로퍼티와 마찬가지로 메서드 역시 this에 만들어 줍니다.

```javascript
function 클래스이름(){
  this.프로퍼티1 = 초깃값;
  this.프로퍼티2 = 초깃값;
  this.메서드1 = function(){
  }
  this.메서드2 = function(){
  }
}
```

### 5. 인스턴스 생성 방법

함수 방식에서 인스턴스 생성 방법은 '클래스이름' 함수를 호출할 때 앞에 `new` 키워드를 추가해 호출해주면 됩니다.

```javascript
function 클래스이름(){
  this.프로퍼티 = 초깃값;
  this.메서드 = function(){}
}

var 인스턴스 = new 클래스이름();
```
new 를 붙이지 않으면 인스턴스 생성이 아닌 함수 호출이 되어 정상적으로 동작하지 않게 됩니다. 

### 6. 객체 외부에서 프로퍼티와 메서드 접근 방법

```javascript
function 클래스이름(){
  this.프로퍼티1 = 초깃값;
  this.프로퍼티2 = 초깃값;
  this.메서드1 = function(){
  }
  this.메서드2 = function(){
  }
}

var 인스턴스 = new 클래스이름();
인스턴스.프로퍼티1;
인스턴스.메서드1;
```
오브젝트 리터럴 방식과 동일하게 함수 방식에서도 **객체 외부에서 객체 내부에 있는 프로퍼티와 메서드에 접근하려면 접근 연산자**를 이용합니다.

### 7. 객체 내부에서 프로퍼티와 메서드 접근 방법

함수 방식에서도 객체 내부에서 자신의 프로퍼티와 메서드에 접근하려면 현재 객체 자신을 나타내는 this라는 키워드와 접근 연산자인 점(.)을 이용합니다.
