{"componentChunkName":"component---src-templates-blog-template-js","path":"/post/2019-08-16-react-09-example5","result":{"data":{"markdownRemark":{"frontmatter":{"title":"scoreboard(클릭으로 점수 +, - 기능) 예제 전체 소스","tags":["React","Exercise"]},"fields":{"slug":"2019-08-16-react-09-example5"},"html":"<blockquote>\n<p>ReactJS 이 정도는 알아야지 - 이효범 교재와 KOSMO React 프로그래밍 수업을 듣고 정리합니다.<br>\n<a href=\"https://www.w3schools.com\">w3school</a> 참고</p>\n</blockquote>\n<h1>scoreboard(클릭으로 점수 +, - 기능) 전체 소스</h1>\n<center>\n<figure>\n<img src=\"/assets/post-img/react/scoreboard-result.jpg\" alt=\"\" width=\"700\">\n<figcaption>scoreboard preview</figcaption>\n</figure>\n</center>\n<pre><code class=\"language-javascript\">const Header = (props) => {\n  // 객체 상태인 props를 상수 title, totalPlayers로 변환\n  const {title, totalPlayers} = props;\n  return (\n    &#x3C;header className=\"header\">\n      &#x3C;h1 className=\"h1\">{title}&#x3C;/h1>\n      &#x3C;span className='stats'>Players: {totalPlayers}&#x3C;/span>\n    &#x3C;/header>\n  );\n}\n \nconst Player = (props) => (\n  &#x3C;div className='player'>\n    &#x3C;span className='player-name'>\n      &#x3C;button className='remove-player'\n        onClick={() => props.removePlayer(props.id)}>x&#x3C;/button>\n    &#x3C;/span>\n    &#x3C;span className='player-name'>{props.name}&#x3C;/span>\n    &#x3C;Counter/>\n  &#x3C;/div>\n);\n \nclass Counter extends React.Component {\n  state = {\n    score: 0,\n  }\n \n  constructor(props) {\n    super(props);\n  }\n  // 기존 incrementScore, decrementScore 함수 changeScore로 변경\n  changeScore = (delta) => {\n    // 1. state를 변경하는 방법\n    // this.state.score += 1;\n    // this.setState({score: this.state.score + 1});\n    // 2. merge 된다. : 기존 속성 그대로 유지\n    // 3. 비동기로 처리\n    this.setState(prevState => ({\n      score: prevState.score + delta\n    }));\n  }\n \n  render() {\n    return (\n      &#x3C;div className='counter'>\n        &#x3C;button className='counter-action decrement'\n          onClick={() => this.changeScore(-1)}> - &#x3C;/button>\n        &#x3C;span className='counter-score'>{this.state.score}&#x3C;/span>\n        &#x3C;button className='counter-action increment'\n          onClick={() => this.changeScore(1)}> + &#x3C;/button>\n      &#x3C;/div>\n    );\n  }\n}\n \nclass App extends React.Component {\n  state = {\n    players: [\n      {name: 'NEJU', id: 1},\n      {name: 'HONG', id: 2},\n      {name: 'KIM', id: 3},\n      {name: 'PARK', id: 4},\n    ]\n  }\n  // 1) player 삭제 콜백 펑션 정의\n  handleRemovePlayer = (id) => {\n    console.log(id);\n \n    this.setState(prevState => ({\n      players: prevState.players.filter(item => item.id !== id)\n    }))\n  }\n \n  render() {\n    return (\n      &#x3C;div className='scoreboard'>\n        &#x3C;Header title='My Scoreboard' totalPlayers={this.state.players.length} />\n \n        {\n          this.state.players.map(player => (\n            &#x3C;Player name={player.name} key={player.id} id={player.id}\n              removePlayer={this.handleRemovePlayer}/>\n          ))\n        }\n      &#x3C;/div>\n    );\n  }\n}\n \nReactDOM.render(&#x3C;App>&#x3C;/App>, document.getElementById('root'))\n</code></pre>","id":"1ec783be-560a-5c2a-86f9-1ab3b860b8db"}},"pageContext":{"slug":"2019-08-16-react-09-example5"}}}