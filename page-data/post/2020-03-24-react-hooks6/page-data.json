{"componentChunkName":"component---src-blog-template-js","path":"/post/2020-03-24-react-hooks6","result":{"data":{"markdownRemark":{"frontmatter":{"title":"실전형 리액트 Hooks 10가지 - useTitle(useState, useEffect)"},"html":"<blockquote>\n<p>노마드코더의 실전형 리액트 Hooks 10가지 수업을 듣고 정리합니다. <a href=\"https://academy.nomadcoders.co/\">https://academy.nomadcoders.co/</a></p>\n</blockquote>\n<h1>2 useEffect</h1>\n<h2>2.1 useTitle</h2>\n<p>useEffect를 이용하여 title을 바꾸는 useTitle hook을 만들어 보겠습니다.</p>\n<pre><code class=\"language-javascript\">const useTitle = iniitialTitle => {\n  const [title, setTitle] = useState(iniitialTitle); // useTitle의 매개변수 iniitialTitle를 초기값으로 설정\n  const updateTitle = () => {\n    const htmlTitle = document.querySelector(\"title\");\n    htmlTitle.innerText = title;\n  };\n  useEffect(updateTitle, [title]); // 컴포넌트가 마운트 될 때와 title이 업데이트 될 때, updateTitle 실행\n  return setTitle;\n};\n\nconst App = () => {\n  const titleUpdater = useTitle(\"My React App...\"); // App 컴포넌트에서 useTitle 함수 사용\n  return (\n    &#x3C;div className=\"App\">\n      &#x3C;div>Hi&#x3C;/div>\n    &#x3C;/div>\n  );\n};\n\nexport default App;\n</code></pre>\n<p>일단 App 컴포넌트가 실행되면서 titleUpdater 선언됨.<br>\nargs로 \"My React App...\"를 넘겼기 때문에 useTitle함수의 useState가 할당된 title은 \"My React App...\"<br>\nApp 컴포넌트가 마운트 되면 useEffect가 updateTitle을 실행<br>\nupdateTitle 함수의 실행으로 title태그 내부 텍스트가 \"My React App...\"로 변경  </p>\n<p>아직 useEffect의 두번째 args인 title이 변경되지 않았기 때문에 재실행은 되지 않고 \"My React App...\"로 끝납니다.<br>\n이번엔 setTimeout함수를 사용하여 title을 변경해보겠습니다.</p>\n<pre><code class=\"language-javascript\">const useTitle = iniitialTitle => {\n  const [title, setTitle] = useState(iniitialTitle);\n  const updateTitle = () => {\n    const htmlTitle = document.querySelector(\"title\");\n    htmlTitle.innerText = title;\n  };\n  useEffect(updateTitle, [title]);\n  return setTitle;\n};\n\nconst App = () => {\n  const titleUpdater = useTitle(\"My React App...\");\n  setTimeout(() => { // 3초후 titleUpdater 실행\n    titleUpdater(\"home\");\n  }, 3000);\n  return (\n    &#x3C;div className=\"App\">\n      &#x3C;div>Hi&#x3C;/div>\n    &#x3C;/div>\n  );\n};\n\nexport default App;\n</code></pre>\n<p>titleUpdater(\"home\")을 실행하면 useTitle을 실행하고, useState()로 인한 title이 변경됩니다.<br>\ntitle이 변경되면 useEffect가 실행되고, title태그 내부 텍스트는 \"home\"으로 변경</p>"}},"pageContext":{"slug":"2020-03-24-react-hooks6"}}}